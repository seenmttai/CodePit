<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodePit Problem Generator</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <script type="module" src="script.js"></script>
</head>
<body>
  <header>
    <h1>CodePit Problem Generator</h1>
  </header>
  <main>
    <section id="formSection">
      <form id="problemForm">
        <div class="form-group">
          <label for="title">Title</label>
          <input id="title" name="title" type="text" required value="Two Sum">
        </div>
        
        <div class="form-group">
          <label for="summary">Summary</label>
          <textarea id="summary" name="summary" rows="2" required>Given an array of integers and a target integer, find two numbers in the array that add up to the target.
Use code with caution.</textarea>
        </div>

        <div class="form-group">
          <label for="description">Description</label>
          <textarea id="description" name="description" rows="4" required>
You are given an array of integers `nums` and an integer `target`. You need to return indices of the two numbers such that they add up to `target`.

You may assume that each input would have exactly one solution, and you may not use the same element twice.

You can return the answer in any order.
Use code with caution.</textarea>
        </div>

        <div class="form-group">
          <label for="example">Example (Input/Output)</label>
          <textarea id="example" name="example" rows="4" required>
Example:

Input: nums = [2,7,11,15], target = 9
Output: [0,1]
Explanation: Because nums[0] + nums[1] == 9, we return [0, 1].

Input: nums = [3,2,4], target = 6
Output: [1,2]

Input: nums = [3,3], target = 6
Output: [0,1]
Use code with caution.</textarea>
        </div>

        <div class="form-group">
          <label for="constraints">Constraints</label>
          <textarea id="constraints" name="constraints" rows="3" required>
- 2 <= nums.length <= 10^4
- -10^9 <= nums[i] <= 10^9
- -10^9 <= target <= 10^9
- Only one valid answer exists.
Use code with caution.</textarea>
        </div>

        <fieldset>
          <legend>Test Cases (JSON Array)</legend>
          <div class="form-group">
            <label for="testcases">Test Cases</label>
            <textarea id="testcases" name="testcases" rows="4" required>
[
  {"input": [2,7,11,15], "target": 9, "expected": [0,1]},
  {"input": [3,2,4], "target": 6, "expected": [1,2]},
  {"input": [3,3], "target": 6, "expected": [0,1]},
  {"input": [-1,-3,-8,-9], "target": -10, "expected": [2,3]},
  {"input": [1,2,3,4,5], "target": 7, "expected": [2,3]}
]
            </textarea>
          </div>
        </fieldset>

        <fieldset>
          <legend>Solution Template</legend>
          <div class="form-group">
            <label for="pythonSkeleton">Python Skeleton Code</label>
            <div class="editor-container">
              <textarea id="pythonSkeleton" name="pythonSkeleton" class="code-editor" required>def twoSum(nums, target):
    # Your code here
    return []  # Placeholder return - should return a list of indices</textarea>
              <button type="button" class="copy-button">Copy</button>
            </div>
          </div>

          <div class="form-group">
            <label for="cSkeleton">C Skeleton Code</label>
            <div class="editor-container">
              <textarea id="cSkeleton" name="cSkeleton" class="code-editor" required>#include <stdio.h>
#include <stdlib.h>

/**
 * Note: The returned array must be malloced, assume caller calls free().
 */
int* twoSum(int* nums, int numsSize, int target, int* returnSize) {
    // Your code here
    *returnSize = 0; // Indicate no elements in the returned array initially
    return NULL;      // Placeholder return - should return malloced array of indices
}</textarea>
              <button type="button" class="copy-button">Copy</button>
            </div>
          </div>

          <div class="form-group">
            <label for="jsSkeleton">JavaScript Skeleton Code</label>
            <div class="editor-container">
              <textarea id="jsSkeleton" name="jsSkeleton" class="code-editor" required>function twoSum(nums, target) {
    // Your code here
    return []; // Placeholder return - should return an array of indices
}</textarea>
              <button type="button" class="copy-button">Copy</button>
            </div>
          </div>
        </fieldset>

        <fieldset>
          <legend>Smart Extraction</legend>
          <div class="smart-extract">
            <div>
              <div class="form-group">
                <label for="paramExtracted">Parameters</label>
                <input id="paramExtracted" name="paramExtracted" type="text" readonly>
              </div>
              <div class="form-group">
                <label for="returnExtracted">Return Value(s)</label>
                <input id="returnExtracted" name="returnExtracted" type="text" readonly>
              </div>
            </div>
            <button type="button" id="extractBtn">Extract from Python</button>
          </div>
        </fieldset>

        <fieldset>
          <legend>Output Comparison Flexibility</legend>
          <div class="form-group">
            <label for="comparisonType">Comparison Type</label>
            <select id="comparisonType" name="comparisonType">
              <option value="exact">Exact Match</option>
              <option value="subset">Subset Match (each expected element is in output)</option>
              <option value="variable">Variable-based Comparison (using a specific variable's value)</option>
              <option value="custom">Custom Comparison (user-provided JS callback)</option>
            </select>
          </div>
          <div class="form-group hidden" id="variableNameGroup">
            <label for="variableName">Variable Name to Compare</label>
            <input id="variableName" name="variableName" type="text" placeholder="e.g., result">
          </div>
          <div class="form-group hidden" id="customCompareGroup">
            <label for="customCompare">Custom Comparison Function (JS)</label>
            <textarea id="customCompare" name="customCompare" rows="3" placeholder="Example: (output, expected) => JSON.stringify(output) === JSON.stringify(expected)"></textarea>
          </div>
        </fieldset>

        <div class="control-buttons">
          <button type="submit">Generate Problem</button>
          <button type="reset">Reset Form</button>
        </div>
      </form>
    </section>

    <section id="resultSection" class="hidden">
      <div id="generatedContent">
      </div>
      <div class="control-buttons">
        <button id="editBtn">Edit Problem</button>
        <button id="prevBtn" class="secondary">Previous</button>
        <button id="nextBtn" class="secondary">Next</button>
        <button id="revealTestBtn">Reveal Test Cases</button>
      </div>
    </section>
  </main>
</body>
</html>